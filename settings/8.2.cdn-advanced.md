# 8. CDN (Content Delivery Network)
## 8.1. [Basic settings](./8.1.cdn-basic.md)
## 8.2. Advanced settings

Настройки **CDN General** в W3 Total Cache позволяют гибко управлять доставкой контента через CDN, включая медиабиблиотеку, ядро WordPress, файлы темы, минифицированные ресурсы и пользовательские файлы. Включите **Host attachments**, **Host theme files**, и **Host wp-includes/ files** для базовой оптимизации, настройте исключения (**Rejected files**, **Disable CDN on the following pages**) для динамического контента, и используйте автоматизацию (**Auto upload interval**) для Push-зон. Синхронизируйте с **Browser Cache** и **Security Headers** для максимальной производительности и безопасности. Тестируйте в **Preview Mode** (Performance → General Settings) и очищайте кэш после изменений (Performance → Dashboard → Empty All Caches).


---

## 1. General Settings
### 1.1. Host attachments

- **Описание**: Если включено, все файлы медиабиблиотеки WordPress (изображения, видео, документы), загруженные через админ-панель, доставляются через CDN.
- **Назначение**: Ускоряет загрузку медиафайлов (например, изображений в постах) для пользователей по всему миру.
- **Технические детали**:
        - Затрагивает файлы в папке `{uploads_dir}` (обычно `wp-content/uploads`).
        - URL медиафайлов переписываются на URL CDN (например, `https://example.com/wp-content/uploads/image.jpg` → `https://cdn.example.com/wp-content/uploads/image.jpg`).
- **Пример**:
        - Изображение `wp-content/uploads/2025/04/photo.jpg` доставляется через `cdn.example.com/wp-content/uploads/2025/04/photo.jpg`.
- **Рекомендация**:
        - Включите для большинства сайтов, особенно с большим количеством изображений (блоги, портфолио, магазины).
        - Убедитесь, что папка `uploads` доступна для CDN (Pull Zone) или загружена (Push Zone).
- **Осторожно**:
        - Проверьте совместимость с плагинами для обработки изображений (например, Smush, ShortPixel).
        - Убедитесь, что HTTPS настроен на CDN для безопасной доставки.

### 1.2. Host wp-includes/ files

- **Описание**: Если включено, статические файлы из папки `wp-includes` (ядро WordPress), указанные в поле **wp-includes file types to upload**, доставляются через CDN.
- **Назначение**: Ускоряет загрузку встроенных ресурсов WordPress (CSS, JS, изображения).
- **Технические детали**:
        - Затрагивает файлы в `wp-includes` (например, `wp-includes/js/jquery/jquery.js`).
        - Типы файлов определяются в **wp-includes file types to upload** (по умолчанию: `*.css;*.js;*.gif;*.png;*.jpg;*.xml`).
- **Пример**:
        - Файл `wp-includes/css/dashicons.min.css` доставляется через `cdn.example.com/wp-includes/css/dashicons.min.css`.
- **Рекомендация**:
        - Включите для оптимизации скорости, так как файлы `wp-includes` используются на всех страницах.
        - Ограничьте типы файлов только необходимыми (например, уберите `*.xml`, если не используется).
- **Осторожно**:
        - Убедитесь, что файлы `wp-includes` не содержат динамического контента.
        - Проверьте, не блокирует ли CDN доступ к файлам (например, из-за CORS).

### 1.3. Host theme files

- **Описание**: Если включено, файлы активной темы WordPress, указанные в поле **Theme file types to upload**, доставляются через CDN.
- **Назначение**: Ускоряет загрузку ресурсов темы (CSS, JS, шрифты, изображения).
- **Технические детали**:
        - Затрагивает файлы в папке активной темы (например, `wp-content/themes/twentytwentyfive/style.css`).
        - Типы файлов определяются в **Theme file types to upload** (по умолчанию: `*.css;*.js;*.gif;*.png;*.jpg;*.ico;*.ttf;*.otf;*.woff;*.woff2;*.less`).
- **Пример**:
        - Файл `wp-content/themes/twentytwentyfive/assets/style.css` доставляется через `cdn.example.com/wp-content/themes/twentytwentyfive/assets/style.css`.
- **Рекомендация**:
        - Включите для всех сайтов, так как темы содержат основные стили и скрипты.
        - Добавьте шрифты (`.woff`, `.woff2`) для ускорения их загрузки.
- **Осторожно**:
        - Проверьте, не использует ли тема динамические файлы (например, PHP-генерируемые CSS).
        - Убедитесь, что CDN поддерживает все типы файлов (например, шрифты).

### 1.4. Host minified CSS and JS files
- **Описание**: Если включено, минифицированные CSS и JS файлы, созданные W3 Total Cache, доставляются через CDN.
    - **Назначение**: Ускоряет загрузку оптимизированных ресурсов, созданных в разделе **Minify**.
- **Технические детали**:
        - Затрагивает файлы, сгенерированные в папке `wp-content/cache/minify` (например, `wp-content/cache/minify/12345.css`).
        - Требует активации **Minify** (Performance → General Settings).
- **Пример**:
        - Минифицированный файл `wp-content/cache/minify/12345.js` доставляется через `cdn.example.com/wp-content/cache/minify/12345.js`.
- **Рекомендация**:
        - Включите, если используете **Minify** для CSS и JS.
        - Убедитесь, что **Minify** настроен корректно (например, без ошибок сжатия).
- **Осторожно**:
        - Проверьте, не нарушает ли минификация функциональность сайта.
        - Убедитесь, что CDN синхронизирует новые минифицированные файлы.

### 1.5. Host custom files

- **Описание**: Если включено, файлы или пути, указанные в поле **Custom file list**, доставляются через CDN.
- **Назначение**: Позволяет доставлять через CDN файлы вне стандартных папок (например, плагинов, favicon).
- **Технические детали**:
        - Затрагивает файлы, указанные в **Custom file list** (по умолчанию: `favicon.ico`, `{wp_content_dir}/gallery/*`, `{wp_content_dir}/uploads/avatars/*`, файлы плагинов, и т.д.).
        - Поддерживает регулярные выражения и placeholders (`{wp_content_dir}`, `{plugins_dir}`, `{uploads_dir}`).
- **Пример**:
        - Файл `wp-content/plugins/wordpress-seo/css/xml-sitemap.xsl` доставляется через `cdn.example.com/wp-content/plugins/wordpress-seo/css/xml-sitemap.xsl`.
- **Рекомендация**:
        - Включите для доставки специфических файлов (например, favicon, файлы плагинов).
        - Используйте placeholders для упрощения путей.
- **Осторожно**:
        - Проверьте, не содержат ли файлы динамического контента.
        - Убедитесь, что файлы доступны для CDN.

### 1.6. Force over-writing of existing files
- **Описание**: Если включено, W3 Total Cache принудительно перезаписывает файлы на CDN, даже если они уже существуют.
- **Назначение**: Гарантирует, что изменённые файлы (например, обновлённые изображения) сразу доставляются через CDN.
- **Технические детали**:
        - Полезно для Push-зон (например, Amazon S3), где изменения могут не синхронизироваться автоматически.
        - Увеличивает нагрузку на сервер при частых обновлениях.
- **Пример**:
        - Изображение `wp-content/uploads/photo.jpg` обновлено; с включённой опцией оно немедленно загружается на CDN.
- **Рекомендация**:
        - Включите, если изменения файлов не синхронизируются автоматически (например, в Push-зонах).
        - Избегайте для Pull-зон (например, Bunny CDN), где синхронизация автоматическая.
- **Осторожно**:
        - Может увеличить время загрузки при большом количестве файлов.
        - Тестируйте с небольшим количеством файлов.

## 2. Advanced Settings

### 2.1. Only purge CDN manually
- **Описание**: Если включено, кэш CDN очищается только при нажатии кнопки **Purge CDN** в админ-панели.
- **Назначение**: Предотвращает автоматическую очистку кэша CDN при обновлении контента.
- **Технические детали**:
        - По умолчанию W3 Total Cache может очищать кэш CDN при изменении страниц или файлов.
        - Включение отключает автоматическую очистку, требуя ручного действия.
- **Пример**:
        - Обновление поста не очищает кэш CDN, пока вы не нажмёте **Purge CDN**.
- **Рекомендация**:
        - Включите для сайтов с редкими обновлениями, чтобы минимизировать запросы к CDN.
        - Отключите для динамических сайтов (например, новостных), где частая очистка необходима.
- **Осторожно**:
        - Ручная очистка может привести к устаревшему контенту на CDN.
        - Проверьте кнопку **Purge CDN** в админ-панели.

### 2.2. Disable CDN on SSL pages
- **Описание**: Если включено, CDN не используется для страниц, загружаемых по HTTPS.
- **Назначение**: Гарантирует доставку HTTPS-страниц с основного сервера, избегая проблем с сертификатами.
- **Технические детали**:
        - URL файлов на HTTPS-страницах не переписываются на CDN.
        - Полезно для старых CDN без поддержки HTTPS.
- **Пример**:
        - Страница `https://example.com/about` загружает файлы с `example.com`, а не `cdn.example.com`.
- **Рекомендация**:
        - Отключите, так как современные CDN (Bunny CDN, Cloudflare) поддерживают HTTPS.
        - Включите только при проблемах с SSL на CDN.
- **Осторожно**:
        - Отключение снижает производительность для HTTPS-страниц.
        - Убедитесь, что CDN использует действующий SSL-сертификат.

### 2.3. Use CDN links for the Media Library on admin pages
- **Описание**: Если включено, файлы медиабиблиотеки в админ-панели (например, в редакторе постов) используют URL CDN.
- **Назначение**: Ускоряет загрузку медиа в админ-панели.
- **Технические детали**:
        - Затрагивает медиафайлы в `/wp-admin` (например, предпросмотр изображений).
        - Может конфликтовать с настройками безопасности.
- **Пример**:
        - Изображение в редакторе постов загружается с `cdn.example.com/wp-content/uploads/image.jpg`.
- **Рекомендация**:
        - Включите для ускорения админ-панели, если CDN надёжен.
        - Отключите, если возникают проблемы с доступом в админке.
- **Осторожно**:
        - Проверьте, не блокирует ли CDN доступ к `/wp-admin` (например, из-за гео-ограничений).
        - Убедитесь, что HTTPS настроен.

### 2.4. Add CORS header
- **Описание**: Если включено, добавляет заголовок `Access-Control-Allow-Origin` к файлам на CDN, разрешая их использование на других доменах.
- **Назначение**: Поддерживает кросс-доменные запросы (например, для шрифтов или скриптов).
 - **Технические детали**:
        - Заголовок: `Access-Control-Allow-Origin: *` (или конкретный домен).
        - Полезно для ресурсов, используемых на других сайтах (например, API, шрифты).
- **Пример**:
        - Шрифт `cdn.example.com/fonts/font.woff2` доступен для сайта `otherdomain.com`.
- **Рекомендация**:
        - Включите, если ресурсы CDN используются на других доменах (например, для PWA или виджетов).
        - Ограничьте домены (например, `Access-Control-Allow-Origin: https://example.com`) для безопасности.
- **Осторожно**:
        - Широкий доступ (`*`) может создать уязвимости.
        - Проверьте, не нарушает ли CORS функциональность.

### 2.5. Disable CDN for the following roles
- **Описание**: Отключает CDN для указанных ролей пользователей (Administrator, Editor, Author, Contributor, Subscriber, SEO Manager, SEO Editor, Translator), заставляя их использовать основной сервер.
- **Назначение**: Обеспечивает доставку контента с основного сервера для определённых пользователей (например, администраторов).
- **Технические детали**:
       - URL файлов для выбранных ролей не переписываются на CDN.
       - Полезно для отладки или доступа к оригинальным файлам.
- **Пример**:
       - Администратор видит `example.com/wp-content/uploads/image.jpg`, а обычный пользователь — `cdn.example.com/wp-content/uploads/image.jpg`.
- **Рекомендация**:
       - Включите для **Administrator** и **Editor** при отладке.
       - Отключите для всех ролей на продакшене для единообразия.
- **Осторожно**:
       - Увеличивает нагрузку на сервер для отключённых ролей.
       - Проверьте, не влияет ли на функциональность админ-панели.

### 2.6. Disable CDN on the following pages
- **Описание**: Исключает указанные страницы или директории от использования CDN, поддерживает регулярные выражения.
- **Назначение**: Предотвращает доставку через CDN страниц, требующих динамического контента.
- **Технические детали**:
        - Пример значений: `/wp-admin/*`, `/cart`, `/checkout`.
        - Регулярные выражения позволяют гибко исключать пути (например, `^/private/.*`).
- **Пример**:
        - Страница `/cart` загружает файлы с `example.com`, а `/blog` — с `cdn.example.com`.
- **Рекомендация**:
        - Исключите динамические страницы (например, `/wp-admin`, `/cart`, `/checkout`, `/my-account`).
        - Используйте регулярные выражения для сложных путей.
- **Осторожно**:
        - Неправильные выражения могут исключить слишком много страниц.
        - Проверьте исключения в Chrome DevTools (Network).

### 2.7. Automatically upload minify files
- **Описание**: Если включено, минифицированные CSS и JS файлы автоматически загружаются на CDN (для не-Pull зон).
- **Назначение**: Гарантирует, что новые или обновлённые минифицированные файлы доступны на CDN.
- **Технические детали**:
       - Работает с файлами в `wp-content/cache/minify`.
       - Требует активации **Minify** и **Host minified CSS and JS files**.
- **Пример**:
       - Новый файл `wp-content/cache/minify/67890.css` загружается на CDN автоматически.
- **Рекомендация**:
   - Включите для Push-зон (например, Amazon S3).
   - Отключите для Pull-зон (Bunny CDN, Cloudflare), где файлы подтягиваются автоматически.
- **Осторожно**:
   - Увеличивает нагрузку на сервер при частых обновлениях.
   - Проверьте синхронизацию файлов.

### 2.8. Export changed files automatically
- **Описание**: Если включено, изменённые файлы автоматически загружаются на CDN.
- **Назначение**: Обеспечивает актуальность файлов на CDN без ручной загрузки.
- **Технические детали**:
    - Работает для всех включённых категорий (**Host attachments**, **Host theme files**, и т.д.).
    - Управляется параметрами **Auto upload interval** и **Re-transfer cycle**.
- **Пример**:
    - Обновлённое изображение `wp-content/uploads/photo.jpg` загружается на CDN через 3600 секунд.
- **Рекомендация**:
    - Включите для Push-зон или если изменения не синхронизируются.
    - Настройте интервалы для баланса нагрузки.
- **Осторожно**:
    - Частая загрузка может замедлить сервер.
    - Тестируйте с небольшим интервалом.

### 2.9. Auto upload interval
- **Описание**: Указывает интервал (в секундах) между автоматическими загрузками изменённых файлов на CDN.
- **Назначение**: Контролирует частоту синхронизации файлов.
- **Технические детали**:
    - По умолчанию: `3600` секунд (1 час).
    - Работает с **Export changed files automatically**.
- **Пример**:
    - При значении `3600` файлы проверяются и загружаются каждый час.
- **Рекомендация**:
    - Установите `3600` для большинства сайтов.
    - Уменьшите до `1800` для сайтов с частыми обновлениями.
- **Осторожно**:
    - Слишком короткий интервал увеличивает нагрузку.
    - Проверьте производительность сервера.

### 2.10. Re-transfer cycle interval
- **Описание**: Указывает интервал (в секундах) между попытками повторной загрузки файлов на CDN.
- **Назначение**: Контролирует паузы между циклами загрузки.
- **Технические детали**:
    - По умолчанию: `900` секунд (15 минут).
    - Работает с **Export changed files automatically**.
- **Пример**:
    - При значении `900` повторная попытка загрузки происходит через 15 минут.
- **Рекомендация**:
    - Установите `900` для стабильной работы.
    - Увеличьте до `1800` для снижения нагрузки.
- **Осторожно**:
    - Слишком короткий интервал нагружает сервер.
    - Проверьте логи загрузки.

### 2.11. Re-transfer cycle limit
- **Описание**: Указывает максимальное количество файлов, обрабатываемых за одну попытку загрузки.
- **Назначение**: Ограничивает нагрузку на сервер при массовой загрузке.
- **Технические детали**:
    - По умолчанию: `25` файлов.
    - Работает с **Export changed files automatically**.
- **Пример**:
    - При значении `25` за раз загружается не более 25 файлов.
- **Рекомендация**:
    - Установите `25` для большинства сайтов.
    - Уменьшите до `10` для слабых серверов.
- **Осторожно**:
    - Слишком большое значение замедлит загрузку.
    - Проверьте производительность.

### 2.12. wp-includes file types to upload
- **Описание**: Указывает типы файлов в папке `wp-includes`, которые доставляются через CDN.
- **Назначение**: Определяет, какие ресурсы ядра WordPress кэшируются на CDN.
- **Технические детали**:
    - По умолчанию: `*.css;*.js;*.gif;*.png;*.jpg;*.xml`.
    - Поддерживает маску файлов (например, `*.css`).
- **Пример**:
    - `*.css;*.js` доставляет только стили и скрипты из `wp-includes`.
- **Рекомендация**:
    - Ограничьте типы файлов необходимыми (например, `*.css;*.js;*.png`).
    - Уберите `*.xml`, если XML-файлы не нужны.
- **Осторожно**:
    - Проверьте, не используются ли динамические файлы.
    - Убедитесь, что CDN поддерживает типы файлов.

### 2.13. Theme file types to upload
- **Описание**: Указывает типы файлов активной темы, которые доставляются через CDN.
- **Назначение**: Определяет ресурсы темы для кэширования на CDN.
- **Технические детали**:
    - По умолчанию: `*.css;*.js;*.gif;*.png;*.jpg;*.ico;*.ttf;*.otf;*.woff;*.woff2;*.less`.
    - Поддерживает шрифты и препроцессоры (`.less`).
- **Пример**:
    - `*.css;*.woff2` доставляет стили и шрифты темы.
- **Рекомендация**:
    - Включите шрифты (`.woff`, `.woff2`) для скорости.
    - Уберите `.less`, если не используется.
- **Осторожно**:
    - Проверьте совместимость с темой.
    - Убедитесь, что CDN поддерживает шрифты.

### 2.14. File types to import
- **Описание**: Указывает типы файлов, которые автоматически импортируются из внешних источников в медиабиблиотеку и доставляются через CDN.
- **Назначение**: Позволяет локализовать внешние ресурсы (например, изображения в постах).
- **Технические детали**:
    - Пример: `*.jpg;*.png`.
    - Файлы загружаются в `{uploads_dir}` и синхронизируются с CDN.
- **Пример**:
    - Внешнее изображение `https://external.com/image.jpg` импортируется в `wp-content/uploads` и доставляется через CDN.
- **Рекомендация**:
    - Включите для сайтов с внешними медиа (например, старые посты).
    - Ограничьте типы файлов (например, `*.jpg;*.png`).
- **Осторожно**:
    - Увеличивает место на сервере.
    - Проверьте авторские права на импортируемые файлы.

### 2.15. Custom file list
- **Описание**: Указывает файлы или пути вне стандартных папок для доставки через CDN.
- **Назначение**: Позволяет доставлять специфические ресурсы (например, favicon, файлы плагинов).
- **Технические детали**:
    - По умолчанию: `favicon.ico`, `{wp_content_dir}/gallery/*`, `{wp_content_dir}/uploads/avatars/*`, файлы плагинов (`*.js`, `*.css`, и т.д.).
    - Поддерживает placeholders и маски.
- **Пример**:
    - `favicon.ico` доставляется через `cdn.example.com/favicon.ico`.
- **Рекомендация**:
    - Добавьте файлы плагинов и favicon.
    - Используйте placeholders для упрощения.
- **Осторожно**:
    - Убедитесь, что файлы статические.
    - Проверьте доступность файлов.

### 2.16. Rejected user agents
- **Описание**: Указывает пользовательские агенты (браузеры, боты), которые не используют CDN.
- **Назначение**: Предотвращает доступ определённых клиентов к CDN.
- **Технические детали**:
    - Пример: `Googlebot`, `Bingbot`.
    - Файлы для этих агентов доставляются с основного сервера.
- **Пример**:
    - `Googlebot` получает файлы с `example.com`, а пользователи — с `cdn.example.com`.
- **Рекомендация**:
    - Добавьте ботов (например, `Googlebot`) для SEO-тестирования.
    - Оставьте пустым для большинства сайтов.
- **Осторожно**:
    - Неправильные агенты могут ограничить доступ пользователей.
    - Проверьте влияние на SEO.

### 2.17. Rejected files
- **Описание**: Указывает файлы или пути, которые не доставляются через CDN.
- **Назначение**: Исключает динамические или чувствительные файлы.
- **Технические детали**:
    - По умолчанию: `{uploads_dir}/wpcf7_captcha/*`, `{uploads_dir}/imagerotator.swf`, `{plugins_dir}/wp-fb-autoconnect/facebook-platform/channel.html`.
    - Поддерживает placeholders и маски.
- **Пример**:
    - Файл `wp-content/uploads/wpcf7_captcha/captcha.png` загружается с `example.com`.
- **Рекомендация**:
    - Исключите файлы CAPTCHA, Flash, и другие динамические ресурсы.
    - Добавьте пути плагинов с динамическим контентом.
- **Осторожно**:
    - Проверьте, не исключаются ли важные файлы.
    - Тестируйте исключения.

### 2.18. Set cookie domain to "trinet.ru"
- **Описание**: Устанавливает домен для cookies, чтобы предотвратить их отправку на CDN-субдомен.
- **Назначение**: Повышает производительность, избегая ненужных cookies в запросах к CDN.
- **Технические детали**:
    - Пример: `trinet.ru`.
    - Полезно, если CDN использует субдомен (например, `cdn.trinet.ru`).
- **Пример**:
    - Cookies отправляются только на `trinet.ru`, а не на `cdn.trinet.ru`.
- **Рекомендация**:
    - Включите, если используете субдомен для CDN.
    - Укажите основной домен сайта.
- **Осторожно**:
    - Неправильный домен может нарушить работу cookies.
    - Проверьте функциональность авторизации.

---

## Примеры использования

- **Блог на shared-хостинге**:
    - Настройка: Включите **Host attachments**, **Host theme files**, **Host minified CSS and JS files**, используйте Bunny CDN, исключите `/wp-admin/*` в **Disable CDN on the following pages**.
    - Custom file list: `favicon.ico`, `{plugins_dir}/wordpress-seo/*`.
    - Результат: Изображения, стили и favicon доставляются через CDN, админ-панель работает с основного сервера.

- **WooCommerce на VPS**:
    - Настройка: Включите **Host attachments**, **Host theme files**, **Host custom files**, используйте Cloudflare, настройте **Rejected files** (`/cart/*`, `/checkout/*`), включите **Add CORS header**.
    - Theme file types: `*.css;*.js;*.woff2`.
    - Результат: Статические файлы и шрифты доставляются через CDN, корзина и checkout остаются динамическими.

- **Новостной сайт на выделенном сервере**:
    - Настройка: Включите **Host wp-includes/ files**, **Host theme files**, **Automatically upload minify files**, используйте Amazon CloudFront, настройте **Auto upload interval** (`1800`), **Disable CDN for the following roles** (Administrator).
    - Rejected user agents: `Googlebot`.
    - Результат: Ядро WordPress и темы доставляются через CDN, администраторы и Googlebot используют сервер.

---

## Рекомендации по настройке

| Настройка | Рекомендация | Примечание |
| --- | --- | --- |
| Host attachments | Включить | Ускоряет медиа; проверьте HTTPS. |
| Host wp-includes/ files | Включить | Оптимизирует ядро; ограничьте типы файлов. |
| Host theme files | Включить | Ускоряет тему; добавьте шрифты. |
| Host minified CSS and JS files | Включить | Работает с Minify; проверьте сжатие. |
| Host custom files | Включить | Добавьте favicon, файлы плагинов. |
| Force over-writing of existing files | Отключить | Включите для Push-зон; тестируйте. |
| Only purge CDN manually | Отключить | Включите для редких обновлений. |
| Disable CDN on SSL pages | Отключить | Современные CDN поддерживают HTTPS. |
| Add CORS header | Отключить | Включите для кросс-доменных ресурсов. |
| Auto upload interval | `3600` | Уменьшите для частых обновлений. |

- **Совместимость**:
    - Синхронизируйте с **Browser Cache** (`Cache-Control`, `Expires`) для оптимизации TTL.
    - Настройте **Security Headers** (например, CSP с `img-src cdn.example.com`) для защиты.
    - Проверьте плагины (WooCommerce, Contact Form 7) на конфликты с CDN.
- **Тестирование**:
    - Используйте **Preview Mode** перед активацией.
    - Проверьте URL файлов в Chrome DevTools (Network).
    - Очистите кэш CDN и W3 Total Cache (Performance → Dashboard → Empty All Caches).
- **SEO**:
    - Включите **Canonical header** в Advanced Settings для корректной индексации.
    - Исключите ботов (`Googlebot`) в **Rejected user agents** для тестирования.

---

### Дополнительные советы

- **Bunny CDN**: Настройте Pull Zone с HTTPS, исключите динамические файлы в **Rejected files**.
- **Cloudflare**: Используйте Page Rules для исключения `/wp-admin`, `/cart`.
- **HTTPS**: Убедитесь, что CDN и сайт используют SSL.
- **Мониторинг**: Используйте [GTmetrix](https://gtmetrix.com) или [Pingdom](https://tools.pingdom.com) для проверки скорости.
- **Заметки**: Для Amazon CloudFront или Self-Hosted CDN включите HTTP-сжатие в **Browser Cache → Media & Other Files** (`Enable HTTP (gzip) compression`).
