# 2. Page Cache (Кэширование страниц)
## 2.1. [Basic settings](./2.1.page-cache-basic.md)
## 2.2. [Advanced General](./2.2.page-cache-advanced-general.md)
## 2.3. Advanced Other 

Настройки **Advanced** в Page Cache позволяют точно настроить кэширование под ваш сайт. Используйте их для исключения динамического контента, управления параметрами запросов и оптимизации производительности. Всегда тестируйте изменения в **Preview Mode** и очищайте кэш после применения настроек.

---
## 1. Aliases

### 1.2. Cache Alias Host Names

- **Назначение**: Позволяет кэшировать страницы для альтернативных доменных имён (алиасов), если сайт доступен через несколько доменов.
- **Пример**: Если ваш сайт доступен по `example.com` и `www.example.com`, включите эту опцию и укажите оба домена, чтобы кэш создавался для каждого.
- **Рекомендация**: Включите, если используете несколько доменных имён для одного сайта. Оставьте пустым, если сайт работает только на одном домене.
- **Осторожно**: Убедитесь, что все алиасы правильно настроены в DNS и на сервере, чтобы избежать дублирования контента.

---

## 2. Cache Preload

### 2.1. Automatically Prime the Page Cache

- **Назначение**: Включает автоматическое предварительное кэширование страниц, чтобы кэш создавался до того, как пользователи посетят страницы. Это ускоряет загрузку страниц для первых посетителей.
- **Пример**: Если включить эту опцию, страницы из XML-карты сайта (например, `example.com/sitemap.xml`) будут кэшироваться заранее, и пользователи сразу получат быструю загрузку.
- **Рекомендация**: Включите для сайтов с большим количеством страниц (например, блогов или интернет-магазинов), чтобы обеспечить быструю загрузку всех страниц.
- **Осторожно**: Может увеличить нагрузку на сервер, особенно на shared-хостинге. Настройте интервалы и лимиты, чтобы избежать перегрузки.

### 2.2. Update Interval

- **Назначение**: Устанавливает интервал (в секундах), через который плагин будет создавать новый набор кэшированных страниц.
- **Значение по умолчанию**: 900 секунд (15 минут).
- **Пример**: Если установить 900 секунд, плагин каждые 15 минут будет кэшировать следующий набор страниц из карты сайта.
- **Рекомендация**: Используйте 900–1800 секунд для большинства сайтов. Увеличьте до 3600 секунд на слабых серверах, чтобы снизить нагрузку.
- **Осторожно**: Слишком короткий интервал (например, 300 секунд) может вызвать пики нагрузки на CPU.

### 2.3. Pages per Interval

- **Назначение**: Определяет, сколько страниц будет кэшироваться за один цикл (batch) во время предварительного кэширования.
- **Значение по умолчанию**: 10 страниц.
- **Пример**: Если установить 10 страниц, плагин будет кэшировать 10 страниц каждые 900 секунд (или другой заданный интервал).
- **Рекомендация**: Установите 5–10 страниц для слабых серверов (shared-хостинг). Для мощных серверов можно увеличить до 20–50.
- **Осторожно**: Слишком большое значение может замедлить сервер, особенно если страницы содержат сложный контент.

### 2.4. Sitemap URL

- **Назначение**: Указывает URL XML-карты сайта, которая используется для определения страниц для предварительного кэширования. Карта сайта должна соответствовать стандарту XML Sitemap.
- **Пример**: Введите `https://example.com/sitemap.xml`, чтобы плагин кэшировал все страницы, указанные в карте сайта, согласно их приоритетам.
- **Рекомендация**: Укажите URL карты сайта, созданной плагином (например, Yoast SEO или Rank Math). Убедитесь, что карта сайта актуальна.
- **Осторожно**: Неправильный или устаревший URL может привести к кэшированию ненужных страниц.

### 2.5. Preload Cache Upon Publishing a Post

- **Назначение**: Автоматически кэширует страницы, посты и пользовательские типы записей, когда они переходят из статуса "неопубликован" в "опубликован".
- **Пример**: При публикации нового поста `example.com/new-post/` плагин сразу создаст кэш для этой страницы.
- **Рекомендация**: Включите для сайтов, где часто публикуется новый контент, чтобы новые посты сразу были доступны в кэше.
- **Осторожно**: Может слегка увеличить нагрузку при массовой публикации.

### 2.6. Preload Cache Upon Updating a Post

- **Назначение**: Кэширует страницы, посты и пользовательские типы записей после их обновления, если их конечный статус — "опубликован".
- **Пример**: Если вы обновили пост `example.com/old-post/`, плагин перезапишет его кэш, чтобы отобразить актуальную версию.
- **Рекомендация**: Включите, чтобы обновлённый контент сразу попадал в кэш.
- **Осторожно**: Частые обновления могут увеличить нагрузку на сервер.

---

## 3. Purge Policy: Page Cache

### 3.1. Front Page

- **Назначение**: Очищает кэш главной страницы при создании, редактировании постов или публикации комментариев.
- **Пример**: Если вы публикуете новый пост, кэш `example.com` очищается, чтобы отобразить обновлённый список постов.
- **Рекомендация**: Включите, если главная страница отображает последние посты или другой динамический контент.
- **Осторожно**: Частая очистка может снизить эффективность кэширования.

### 3.2. Posts Page

- **Назначение**: Очищает кэш страницы записей (например, `example.com/blog/`), если она отличается от главной страницы.
- **Пример**: При добавлении нового поста кэш страницы `example.com/blog/` обновится.
- **Рекомендация**: Включите для блогов, где страница записей активно используется.
- **Осторожно**: Не включайте, если страница записей совпадает с главной.

### 3.3. Post Page

- **Назначение**: Очищает кэш страницы отдельного поста при его редактировании или комментировании.
- **Пример**: Если пользователь оставил комментарий к `example.com/post/`, кэш этой страницы очистится.
- **Рекомендация**: Включите, чтобы обновления постов и комментариев сразу отображались.
- **Осторожно**: Частые комментарии могут привести к постоянной очистке кэша.

### 3.4. Blog Feed

- **Назначение**: Очищает кэш основной RSS/Atom-ленты сайта (например, `example.com/feed/`).
- **Пример**: Новый пост вызовет очистку кэша ленты, чтобы RSS-читалки получили актуальный контент.
- **Рекомендация**: Включите для сайтов с активными RSS-лентами.
- **Осторожно**: Не включайте, если ленты не используются.

### 3.5. Post Comments Pages

- **Назначение**: Очищает кэш страниц с комментариями к посту при добавлении новых комментариев.
- **Пример**: Новый комментарий к посту обновит кэш страницы комментариев.
- **Рекомендация**: Включите, если комментарии активно используются.
- **Осторожно**: Может увеличить нагрузку на сайтах с большим количеством комментариев.

### 3.6. Post Author Pages

- **Назначение**: Очищает кэш страниц авторов (например, `example.com/author/username/`) при обновлении постов.
- **Пример**: Новый пост автора обновит кэш его страницы.
- **Рекомендация**: Включите, если страницы авторов популярны.
- **Осторожно**: Не включайте, если страницы авторов редко посещаются.

### 3.7. Post Terms Pages

- **Назначение**: Очищает кэш страниц категорий, тегов и других таксономий при обновлении постов.
- **Пример**: Новый пост в категории "Новости" очистит кэш `example.com/category/news/`.
- **Рекомендация**: Включите для сайтов с активными категориями и тегами.
- **Осторожно**: Может вызвать частую очистку на сайтах с большим количеством таксономий.

### 3.8. Post Comments Feed

- **Назначение**: Очищает кэш ленты комментариев к посту.
- **Пример**: Новый комментарий очистит кэш `example.com/post/feed/`.
- **Рекомендация**: Включите, если ленты комментариев используются.
- **Осторожно**: Не включайте, если ленты неактивны.

### 3.9. Post Author Feed

- **Назначение**: Очищает кэш ленты постов автора.
- **Пример**: Новый пост автора очистит кэш `example.com/author/username/feed/`.
- **Рекомендация**: Включите, если ленты авторов популярны.
- **Осторожно**: Не включайте, если ленты не используются.

### 3.10. Post Terms Feeds

- **Назначение**: Очищает кэш лент категорий и тегов.
- **Пример**: Новый пост в категории очистит кэш `example.com/category/news/feed/`.
- **Рекомендация**: Включите для сайтов с активными лентами категорий.
- **Осторожно**: Не включайте, если ленты не используются.

### 3.11. Daily Archive Pages

- **Назначение**: Очищает кэш страниц ежедневных архивов (например, `example.com/2025/04/17/`).
- **Пример**: Новый пост очистит кэш архива за текущий день.
- **Рекомендация**: Включите для новостных сайтов с ежедневными архивами.
- **Осторожно**: Не включайте, если архивы не используются.

### 3.12. Monthly Archive Pages

- **Назначение**: Очищает кэш страниц месячных архивов (например, `example.com/2025/04/`).
- **Пример**: Новый пост очистит кэш архива за текущий месяц.
- **Рекомендация**: Включите для сайтов с активными архивами.
- **Осторожно**: Не включайте, если архивы не популярны.

### 3.13. Yearly Archive Pages

- **Назначение**: Очищает кэш страниц годовых архивов (например, `example.com/2025/`).
- **Пример**: Новый пост очистит кэш архива за текущий год.
- **Рекомендация**: Включите для сайтов с долгосрочными архивами.
- **Осторожно**: Не включайте, если архивы не используются.

### 3.14. Specify the Feed Types to Purge

- **Назначение**: Указывает типы лент (RDF, RSS, RSS2, Atom), которые будут очищаться при обновлении контента.
- **Значение по умолчанию**: RSS2.
- **Пример**: Включение RSS2 очистит кэш `example.com/feed/` при добавлении поста.
- **Рекомендация**: Включите RSS2 и Atom для большинства сайтов. Добавьте RDF и RSS, если они используются.
- **Осторожно**: Не включайте неиспользуемые типы лент.

### 3.15. Purge Limit

- **Назначение**: Ограничивает количество страниц архивов (например, `example.com/page/2/`), очищаемых при обновлении постов.
- **Значение по умолчанию**: 10 страниц.
- **Пример**: Если установить 10, будут очищены кэши страниц `example.com/` до `example.com/page/10/`. Если 0 — все страницы.
- **Рекомендация**: Установите 5–10 для большинства сайтов. Используйте 0 только для небольших сайтов с малым количеством страниц.
- **Осторожно**: Установка 0 может значительно увеличить нагрузку на крупных сайтах.

### 3.16. Additional Pages

- **Назначение**: Указывает дополнительные страницы, которые нужно очистить при обновлении контента.
- **Пример**: Добавьте `example.com/parent/posts/` для очистки родительской страницы при обновлении дочерних.
- **Рекомендация**: Укажите страницы, которые зависят от обновляемого контента (например, страницы категорий или кастомные страницы).
- **Осторожно**: Не добавляйте слишком много страниц, чтобы избежать чрезмерной очистки.

### 3.17. Purge Sitemaps

- **Назначение**: Указывает регулярное выражение для очистки кэша XML-карт сайта при обновлении контента.
- **Значение по умолчанию**: `([a-z0-9_\-]*?)sitemap([a-z0-9_\-]*)?\.(?:xml|xsl)`.
- **Пример**: Это выражение очищает кэш файлов, таких как `example.com/sitemap.xml` или `example.com/sitemap_index.xml`.
- **Рекомендация**: Оставьте значение по умолчанию, если используете стандартные карты сайта.
- **Осторожно**: Проверьте регулярное выражение, чтобы оно соответствовало вашим картам сайта.

---

## 4. REST API

- **Назначение**: Управляет кэшированием запросов к WordPress REST API (`wp-json`).
- **Варианты**:
    - **Don’t Cache**: Не кэшировать запросы REST API (по умолчанию).
    - **Cache** (PRO): Кэшировать запросы для улучшения производительности (доступно в платной версии).
    - **Disable REST API**: Полностью отключает REST API.
- **Пример**: Если выбрать **Cache**, запросы к `example.com/wp-json/wp/v2/posts` будут кэшироваться, ускоряя headless WordPress.
- **Рекомендация**: Выберите **Don’t Cache**, если не используете REST API или если он содержит динамические данные. Используйте **Cache** (PRO) для headless WordPress с активным API. Отключите API только если он не нужен.
- **Осторожно**: Кэширование API может привести к показу устаревших данных. Тестируйте в Preview Mode.

---

## 5. Advanced

### 5.1. Late Initialization

- **Назначение**: Включает поддержку фрагментного кэширования, откладывая инициализацию кэширования до более позднего этапа (после WordPress action `init`).
- **Пример**: Полезно для тем или плагинов, которые добавляют динамический контент после стандартной инициализации.
- **Рекомендация**: Включите, если сталкиваетесь с проблемами совместимости (например, некорректный кэш для плагинов).
- **Осторожно**: Может слегка увеличить время ответа.

### 5.2. Late Caching

- **Назначение**: Откладывает извлечение кэша до пользовательских фильтров, перезаписывая ключ кэширования.
- **Пример**: Полезно для сложных сайтов, где кэш зависит от кастомных условий.
- **Рекомендация**: Включите только по рекомендации разработчика или при использовании фрагментного кэширования.
- **Осторожно**: Может замедлить обработку запросов.

### 5.3. Compatibility Mode

- **Назначение**: Увеличивает совместимость с различными хостингами и WordPress-конфигурациями за счёт снижения производительности (\~20%).
- **Пример**: Включение помогает, если Apache-правила вызывают ошибки на shared-хостинге.
- **Рекомендация**: Включите, если возникают проблемы с кэшированием (например, пустые страницы). Отключите на мощных серверах.
- **Осторожно**: Уменьшает производительность, используйте только при необходимости.

### 5.4. Charset: Disable UTF-8 Blog Charset Support

- **Назначение**: Отключает поддержку кодировки UTF-8 для кэшированных страниц.
- **Пример**: Если страницы отображаются с неправильной кодировкой (например, кракозябры), отключение может помочь.
- **Рекомендация**: Отключите, если сталкиваетесь с проблемами кодировки. Обычно оставляйте включённым.
- **Осторожно**: Отключение может нарушить отображение символов на многоязычных сайтах.

### 5.5. Reject HEAD Requests: Disable Caching of HEAD HTTP Requests

- **Назначение**: Отключает кэширование HTTP-запросов HEAD, которые часто используются ботами для проверки страниц.
- **Пример**: Если включено, HEAD-запросы к `example.com/post/` не кэшируются, предотвращая пустые страницы.
- **Рекомендация**: Включите, чтобы избежать проблем с ботами, возвращающими пустые страницы.
- **Осторожно**: Отключение может увеличить нагрузку от ботов.

### 5.6. Maximum Lifetime of Cache Objects

- **Назначение**: Устанавливает максимальный срок жизни кэшированных страниц (в секундах).
- **Значение по умолчанию**: 3600 секунд (1 час).
- **Пример**: Если установить 86400 секунд (24 часа), кэш страниц будет действителен 1 день.
- **Рекомендация**: Установите 86400 секунд для большинства сайтов. Уменьшите до 3600–7200 секунд для часто обновляемых сайтов.
- **Осторожно**: Слишком долгий срок может привести к показу устаревшего контента. Ограничено константой `W3TC_CACHE_FILE_EXPIRE_MAX` (2592000 секунд) в `wp-config.php`.

### 5.7. Garbage Collection Interval

- **Назначение**: Определяет, как часто плагин удаляет устаревший кэш (в секундах).
- **Значение по умолчанию**: 3600 секунд (1 час).
- **Пример**: Если установить 3600 секунд, плагин будет очищать старый кэш каждый час.
- **Рекомендация**: Оставьте 3600 секунд. Уменьшите до 1800 секунд, если дисковое пространство ограничено.
- **Осторожно**: Слишком частая очистка может увеличить нагрузку на сервер.

### 5.8. Comment Cookie Lifetime

- **Назначение**: Устанавливает срок жизни cookies для комментариев (в секундах), чтобы снизить количество трафика от авторизованных пользователей.
- **Значение по умолчанию**: 1800 секунд (30 минут).
- **Пример**: Если установить 1800 секунд, cookies комментариев истекут через 30 минут, заставляя пользователей заново генерировать кэш.
- **Рекомендация**: Оставьте 1800 секунд или увеличьте до 3600 секунд для менее частого обновления.
- **Осторожно**: Слишком короткий срок может раздражать пользователей.

### 5.9. Accepted Query Strings

- **Назначение**: Указывает параметры запросов (query strings), которые разрешено кэшировать, даже если они считаются динамическими.
- **Пример**: Список по умолчанию включает параметры аналитики (`utm_source`, `gclid`, `fbclid`) и поиска (`s`), чтобы кэшировать страницы вроде `example.com/?utm_source=google`.
- **Рекомендация**: Оставьте значения по умолчанию для аналитики и поиска. Добавьте свои параметры (например, `lang` для многоязычных сайтов), если нужно.
- **Осторожно**: Не добавляйте динамические параметры (например, `session_id`), чтобы избежать ошибок.

### 5.10. Rejected User Agents

- **Назначение**: Указывает пользовательские агенты (браузеры, боты), для которых кэш не будет отправляться.
- **Пример**: Добавьте `Googlebot`, чтобы поисковый робот видел некэшированные страницы.
- **Рекомендация**: Оставьте пустым, если нет необходимости исключать ботов. Добавьте ботов вроде `Googlebot` или `Bingbot`, если хотите, чтобы они видели свежий контент.
- **Осторожно**: Исключение популярных браузеров (например, Chrome) отключит кэш для пользователей.

### 5.11. Rejected Cookies

- **Назначение**: Указывает cookies, при наличии которых страницы не будут кэшироваться.
- **Пример**: Добавьте `woocommerce_cart` для WooCommerce, чтобы страницы корзины не кэшировались.
- **Рекомендация**: Укажите cookies, связанные с динамическим контентом (например, `wptouch_switch_toggle`, `woocommerce_cart`).
- **Осторожно**: Слишком много исключений может снизить эффективность кэширования.

### 5.12. Never Cache the Following Pages

- **Назначение**: Указывает страницы или шаблоны URL, которые никогда не кэшируются.
- **Пример**: Добавьте `wp-.*\.php` и `index\.php` для исключения системных страниц WordPress.
- **Рекомендация**: Укажите динамические страницы, такие как `/wp-admin/*`, `/cart/*`, `/checkout/*`. Используйте регулярные выражения для точности.
- **Осторожно**: Проверьте шаблоны, чтобы случайно не исключить важные страницы.

### 5.13. Never Cache Pages Associated with These Categories

- **Назначение**: Исключает кэширование страниц, связанных с указанными категориями (по slug).
- **Пример**: Добавьте `news` для исключения категории `example.com/category/news/`.
- **Рекомендация**: Используйте для категорий с динамическим контентом (например, часто обновляемые новости).
- **Осторожно**: Не добавляйте популярные категории, чтобы не отключать кэш для большого числа страниц.

### 5.14. Never Cache Pages That Use These Tags

- **Назначение**: Исключает кэширование страниц, связанных с указанными тегами (по slug).
- **Пример**: Добавьте `urgent` для исключения страниц с тегом `example.com/tag/urgent/`.
- **Рекомендация**: Используйте для тегов с динамическим контентом.
- **Осторожно**: Избегайте исключения популярных тегов.

### 5.15. Never Cache Pages by These Authors

- **Назначение**: Исключает кэширование страниц, связанных с указанными авторами (по имени пользователя).
- **Пример**: Добавьте `admin` для исключения страниц `example.com/author/admin/`.
- **Рекомендация**: Используйте для авторов, чьи страницы требуют частого обновления.
- **Осторожно**: Не исключайте активных авторов с большим количеством постов.

### 5.16. Never Cache Pages That Use These Custom Fields

- **Назначение**: Исключает кэширование страниц с указанными пользовательскими полями (custom fields).
- **Пример**: Добавьте `dynamic_content=value` для исключения страниц с динамическими мета-полями.
- **Рекомендация**: Используйте для страниц с уникальными мета-данными, требующими свежести.
- **Осторожно**: Требует понимания структуры мета-полей сайта.

### 5.17. Cache Exception List

- **Назначение**: Указывает страницы, которые будут кэшироваться, даже если они попадают под исключения в "Never Cache the Following Pages".
- **Пример**: Добавьте `wp-links-opml.php`, чтобы кэшировать эту страницу, несмотря на исключение `wp-.*\.php`.
- **Рекомендация**: Используйте для исключений из правил исключения, если нужно кэшировать специфические системные страницы.
- **Осторожно**: Тщательно проверяйте список, чтобы избежать конфликтов.

### 5.18. Non-Trailing Slash Pages

- **Назначение**: Указывает страницы, которые кэшируются, даже если у них нет завершающего слэша (например, `example.com/page` вместо `example.com/page/`).
- **Пример**: Регулярное выражение `sitemap(_index)?\.xml(\.gz)?` кэширует карты сайта без слэша.
- **Рекомендация**: Оставьте значения по умолчанию для карт сайта и XSL-файлов.
- **Осторожно**: Неправильные выражения могут кэшировать лишние страницы.

### 5.19. Specify Page Headers

- **Назначение**: Указывает дополнительные HTTP-заголовки для кэшированных страниц.
- **Пример**: Включение `Last-Modified`, `Content-Type`, `X-Pingback`, `P3P`, `Link` улучшает совместимость с CDN и поисковиками.
- **Рекомендация**: Включите все заголовки для максимальной совместимости.
- **Осторожно**: Убедитесь, что заголовки не конфликтуют с настройками сервера.

---

## 6. Purge via WP Cron

### 6.1. Enable WP-Cron Event

- **Назначение**: Включает запуск очистки кэша через WP-Cron вместо системного cron.
- **Пример**: Включение создаёт задачу WP-Cron для очистки кэша страниц.
- **Рекомендация**: Включите для простоты на shared-хостинге. Используйте системный cron (`wp w3tc flush posts`) на VPS для большей надёжности.
- **Осторожно**: WP-Cron может быть ненадёжным на сайтах с низким трафиком.

### 6.2. Start Time

- **Назначение**: Устанавливает время начала выполнения задачи WP-Cron.
- **Значение по умолчанию**: 12:00 AM.
- **Пример**: Установка 12:00 AM запускает очистку в полночь.
- **Рекомендация**: Выберите время с низкой нагрузкой на сервер (например, ночное).
- **Осторожно**: Если время уже прошло, задача запустится на следующий день.

### 6.3. Interval

- **Назначение**: Устанавливает интервал выполнения задачи WP-Cron.
- **Значение по умолчанию**: Hourly (каждый час).
- **Пример**: Установка "Hourly" запускает очистку каждый час.
- **Рекомендация**: Используйте "Hourly" для большинства сайтов. Увеличьте до "Daily" для слабых серверов.
- **Осторожно**: Слишком частый интервал может увеличить нагрузку.

---

## Рекомендации для вкладки Advanced

| Настройка | Рекомендация |
| --- | --- |
| Automatically Prime the Page Cache | Включить для крупных сайтов |
| Update Interval | 900–1800 секунд |
| Pages per Interval | 5–10 для shared-хостинга, 20–50 для VPS |
| Sitemap URL | Указать актуальный URL карты сайта |
| Preload Cache Upon Publishing/Updating | Включить |
| Purge Policy: Front Page, Posts Page, Post Page, Blog Feed | Включить |
| Purge Policy: Comments, Author, Terms | Включить при необходимости |
| Purge Policy: Archive Pages | Включить для новостных сайтов |
| Feed Types to Purge | RSS2, Atom |
| Purge Limit | 5–10 страниц |
| Additional Pages | Указать зависимые страницы |
| Purge Sitemaps | Оставить по умолчанию |
| REST API | Don’t Cache (или Cache для PRO) |
| Late Initialization | Включить при проблемах совместимости |
| Late Caching | Включить с разработчиком |
| Compatibility Mode | Включить при проблемах |
| Charset | Отключить при проблемах кодировки |
| Reject HEAD Requests | Включить |
| Maximum Lifetime | 86400 секунд |
| Garbage Collection Interval | 3600 секунд |
| Comment Cookie Lifetime | 1800–3600 секунд |
| Accepted Query Strings | Оставить по умолчанию, добавить `lang` |
| Rejected User Agents | Добавить ботов при необходимости |
| Rejected Cookies | Указать `woocommerce_cart`, `wptouch_switch_toggle` |
| Never Cache Pages | Указать `/wp-admin/*`, `/cart/*` |
| Never Cache Categories/Tags/Authors/Fields | Указать при необходимости |
| Cache Exception List | Указать системные страницы при необходимости |
| Non-Trailing Slash Pages | Оставить по умолчанию |
| Specify Page Headers | Включить все |
| Enable WP-Cron Event | Включить на shared-хостинге |
| WP-Cron Start Time | Ночное время |
| WP-Cron Interval | Hourly |

---

## Примеры использования

- **Блог**:

    - Включите **Automatically Prime the Page Cache** с интервалом 900 секунд и 10 страницами.
    - Укажите `sitemap.xml` в Sitemap URL.
    - Включите **Preload Cache Upon Publishing/Updating**.
    - Включите Purge Policy для **Front Page**, **Posts Page**, **Post Page**, **Blog Feed**.
    - Установите **Maximum Lifetime** на 86400 секунд, **Garbage Collection** на 3600 секунд.
    - Добавьте `s` в **Accepted Query Strings** для поиска.

- **WooCommerce**:

    - Включите **Cache Preload** с интервалом 1800 секунд и 5 страницами.
    - Включите Purge Policy для **Post Page**, исключите **Front Page** при динамическом контенте.
    - Добавьте `/cart/*`, `/checkout/*` в **Never Cache Pages** и `woocommerce_cart` в **Rejected Cookies**.
    - Установите **REST API** на **Don’t Cache**.

- **Новостной сайт**:

    - Включите **Cache Preload** с интервалом 600 секунд и 20 страницами.
    - Включите Purge Policy для **Daily Archive Pages**, **Monthly Archive Pages**, **Blog Feed**.
    - Установите **Purge Limit** на 5 страниц.
    - Включите **Cache Feeds** и **Handle XML MIME Type** в General.

---
